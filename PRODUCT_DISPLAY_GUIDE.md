# Ø¯Ù„ÙŠÙ„ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…ÙŠØ²Ø© Ø¥Ø¯Ø§Ø±Ø© Ø¸Ù‡ÙˆØ± Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª

## Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©
ØªÙ… ØªØ·Ø¨ÙŠÙ‚ Ù†Ø¸Ø§Ù… Ù…ØªÙ‚Ø¯Ù… Ù„Ø¥Ø¯Ø§Ø±Ø© Ø¸Ù‡ÙˆØ± Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Ø§Ù„Ù…ØªØ¬Ø± Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ù…ØªÙˆÙØ±ØŒ Ù…Ø¹ Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„ØªØµÙˆÙŠØª Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù†Ø§ÙØ°Ø©.

## Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

### 1. Ø£ÙˆØ¶Ø§Ø¹ Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª (3 Ø®ÙŠØ§Ø±Ø§Øª)

#### Ø£) Ø¸Ù‡ÙˆØ± ÙƒÙ„ÙŠ (Show All)
- ØªØ¸Ù‡Ø± Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Ø§Ù„Ù…ØªØ¬Ø± Ø¨ØºØ¶ Ø§Ù„Ù†Ø¸Ø± Ø¹Ù† Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
- Ø­ØªÙ‰ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø°Ø§Øª Ø§Ù„ÙƒÙ…ÙŠØ© ØµÙØ± Ø³ØªØ¸Ù‡Ø±
- Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù„Ù„Ù†Ø¸Ø§Ù…

#### Ø¨) Ø¸Ù‡ÙˆØ± Ø¨Ø§Ù„Ù…Ø®Ø²ÙˆÙ† (Show With Stock)
- ØªØ¸Ù‡Ø± ÙÙ‚Ø· Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…ØªÙˆÙØ±Ø© ÙÙŠ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
- Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù†Ø§ÙØ°Ø© (Ø§Ù„ÙƒÙ…ÙŠØ© = 0) Ù„Ù† ØªØ¸Ù‡Ø± ÙÙŠ Ø§Ù„Ù…ØªØ¬Ø±
- ÙŠØªÙ… Ø¥Ø®ÙØ§Ø¡Ù‡Ø§ ØªÙ…Ø§Ù…Ø§Ù‹ Ù…Ù† Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª

#### Ø¬) Ø¸Ù‡ÙˆØ± Ø¨Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ù…Ø¹ Ø§Ù„ØªØµÙˆÙŠØª (Show With Stock And Vote)
- Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…ØªÙˆÙØ±Ø© ØªØ¸Ù‡Ø± Ø¨Ø´ÙƒÙ„ Ø¹Ø§Ø¯ÙŠ
- Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù†Ø§ÙØ°Ø© ØªØ¸Ù‡Ø± Ù…Ø¹ Ø¨Ø·Ø§Ù‚Ø© ØªØµÙˆÙŠØª
- ÙŠÙ…ÙƒÙ† Ù„Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„ØªØµÙˆÙŠØª: Ù‡Ù„ ÙŠØ±ÙŠØ¯ÙˆÙ† ØªÙˆÙÙŠØ± Ø§Ù„Ù…Ù†ØªØ¬ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ØŸ
- ÙŠØ¹Ø±Ø¶ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ØªØµÙˆÙŠØª Ø¨Ø¹Ø¯ Ø§Ù„ØªØµÙˆÙŠØª (Ù…Ø«Ù„ WhatsApp)

### 2. ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…Ø®Ø§Ø²Ù† ÙˆØ§Ù„ÙØ±ÙˆØ¹
Ø¹Ù†Ø¯ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙˆØ¶Ø¹ (Ø¨) Ø£Ùˆ (Ø¬)ØŒ ÙŠÙ…ÙƒÙ†Ùƒ:
- ØªØ­Ø¯ÙŠØ¯ Ù…Ø®Ø§Ø²Ù† ÙˆÙØ±ÙˆØ¹ Ù…Ø¹ÙŠÙ†Ø© Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
- Ø¥Ø°Ø§ Ù„Ù… ØªØ­Ø¯Ø¯ Ø£ÙŠ Ø´ÙŠØ¡ØŒ Ø³ÙŠØªÙ… Ø§Ø­ØªØ³Ø§Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø®Ø§Ø²Ù† ÙˆØ§Ù„ÙØ±ÙˆØ¹
- ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ¨Ø¹Ø§Ø¯ ÙØ±ÙˆØ¹ Ù…Ø¹ÙŠÙ†Ø© Ù…Ù† Ø§Ù„Ø­Ø³Ø§Ø¨

## Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ©

### Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

#### 1. Ø¬Ø¯ÙˆÙ„ `product_display_settings`
```sql
- id: UUID (Primary Key)
- display_mode: VARCHAR (show_all | show_with_stock | show_with_stock_and_vote)
- selected_warehouses: UUID[] (Ù…ØµÙÙˆÙØ© Ù…Ù† Ù…Ø¹Ø±ÙØ§Øª Ø§Ù„Ù…Ø®Ø§Ø²Ù†)
- selected_branches: UUID[] (Ù…ØµÙÙˆÙØ© Ù…Ù† Ù…Ø¹Ø±ÙØ§Øª Ø§Ù„ÙØ±ÙˆØ¹)
- created_at: TIMESTAMPTZ
- updated_at: TIMESTAMPTZ
```

#### 2. Ø¬Ø¯ÙˆÙ„ `product_votes`
```sql
- id: UUID (Primary Key)
- product_id: UUID (Foreign Key -> products)
- user_identifier: VARCHAR (Ù…Ø¹Ø±Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…/Ø§Ù„Ø¬Ù„Ø³Ø©/IP)
- vote: VARCHAR (yes | no)
- created_at: TIMESTAMPTZ
- UNIQUE(product_id, user_identifier) -- ØªØµÙˆÙŠØª ÙˆØ§Ø­Ø¯ Ù„ÙƒÙ„ Ù…Ø³ØªØ®Ø¯Ù… Ù„ÙƒÙ„ Ù…Ù†ØªØ¬
```

### Ø§Ù„ÙˆØ¸Ø§Ø¦Ù (Functions)

#### 1. `get_product_vote_stats(product_id)`
ØªÙØ±Ø¬Ø¹ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ØªØµÙˆÙŠØª Ù„Ù…Ù†ØªØ¬ Ù…Ø¹ÙŠÙ†:
- total_votes: Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø¹Ø¯Ø¯ Ø§Ù„Ø£ØµÙˆØ§Øª
- yes_votes: Ø¹Ø¯Ø¯ Ø£ØµÙˆØ§Øª "Ù†Ø¹Ù…"
- no_votes: Ø¹Ø¯Ø¯ Ø£ØµÙˆØ§Øª "Ù„Ø§"
- yes_percentage: Ù†Ø³Ø¨Ø© "Ù†Ø¹Ù…"
- no_percentage: Ù†Ø³Ø¨Ø© "Ù„Ø§"

#### 2. `has_user_voted(product_id, user_identifier)`
ØªØªØ­Ù‚Ù‚ Ù…Ù† Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù‚Ø¯ ØµÙˆÙ‘Øª Ù…Ø³Ø¨Ù‚Ø§Ù‹:
- has_voted: Boolean
- vote: VARCHAR (yes | no)

## Ø§Ù„Ù…Ù„ÙØ§Øª ÙˆØ§Ù„Ù…ÙƒÙˆÙ†Ø§Øª

### Hooks

#### 1. `useProductDisplaySettings.ts`
Hook Ù„Ø¥Ø¯Ø§Ø±Ø© Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¸Ù‡ÙˆØ± Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
```typescript
import { useProductDisplaySettings } from '@/lib/hooks/useProductDisplaySettings';

const {
  settings,           // Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©
  warehouses,        // Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø®Ø§Ø²Ù†
  branches,          // Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙØ±ÙˆØ¹
  isLoading,         // Ø­Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
  isSaving,          // Ø­Ø§Ù„Ø© Ø§Ù„Ø­ÙØ¸
  updateSettings,    // Ø¯Ø§Ù„Ø© ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
  getAllLocations    // Ø¯Ø§Ù„Ø© Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹
} = useProductDisplaySettings();
```

#### 2. `useProductFilter.ts`
Hook Ù„ØªØ·Ø¨ÙŠÙ‚ ÙÙ„ØªØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ ØµÙØ­Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±
```typescript
import { useProductFilter } from '@/lib/hooks/useProductFilter';

const {
  displaySettings,         // Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©
  isLoading,              // Ø­Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
  filterProducts,         // ÙÙ„ØªØ±Ø© Ù‚Ø§Ø¦Ù…Ø© Ù…Ù†ØªØ¬Ø§Øª
  shouldDisplayProduct,   // ÙØ­Øµ Ù…Ù†ØªØ¬ ÙˆØ§Ø­Ø¯
  getProductInventory     // Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
} = useProductFilter();
```

### Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª (Components)

#### `ProductVoteCard.tsx`
Ù…ÙƒÙˆÙ† Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„ØªØµÙˆÙŠØª Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù†Ø§ÙØ°Ø©
```typescript
import ProductVoteCard from '@/components/website/ProductVoteCard';

<ProductVoteCard
  productId={product.id}
  productName={product.name}
  onVoteComplete={() => console.log('Vote submitted!')}
/>
```

**Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª:**
- ØªØ®Ø²ÙŠÙ† Ù…Ø¹Ø±Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ localStorage Ù„Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ù‡ÙˆÙŠØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
- Ù…Ù†Ø¹ Ø§Ù„ØªØµÙˆÙŠØª Ø§Ù„Ù…ØªÙƒØ±Ø± (ØªØµÙˆÙŠØª ÙˆØ§Ø­Ø¯ ÙÙ‚Ø· Ù„ÙƒÙ„ Ù…Ù†ØªØ¬)
- Ø¹Ø±Ø¶ Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªØµÙˆÙŠØª Ø¨Ø´ÙƒÙ„ ØªÙØ§Ø¹Ù„ÙŠ Ù…Ø¹ Ø£Ø´Ø±Ø·Ø© ØªÙ‚Ø¯Ù…
- ÙˆØ§Ø¬Ù‡Ø© Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ù…ÙŠÙ„Ø© ÙˆÙ…ØªØ¬Ø§ÙˆØ¨Ø©

## ÙƒÙŠÙÙŠØ© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙÙŠ ØµÙØ­Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±

### Ù…Ø«Ø§Ù„ 1: ÙÙ„ØªØ±Ø© Ù‚Ø§Ø¦Ù…Ø© Ù…Ù†ØªØ¬Ø§Øª
```typescript
'use client';

import { useEffect, useState } from 'react';
import { useProductFilter } from '@/lib/hooks/useProductFilter';
import ProductVoteCard from '@/components/website/ProductVoteCard';

export default function ProductsPage() {
  const [products, setProducts] = useState([]);
  const [filteredProducts, setFilteredProducts] = useState([]);
  const { filterProducts, displaySettings, isLoading } = useProductFilter();

  useEffect(() => {
    // Ø¬Ù„Ø¨ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    fetchProducts();
  }, []);

  useEffect(() => {
    if (products.length > 0 && !isLoading) {
      // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ÙÙ„ØªØ±Ø©
      applyFilter();
    }
  }, [products, displaySettings, isLoading]);

  const fetchProducts = async () => {
    // Ø¬Ù„Ø¨ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ù† Supabase
    const { data } = await supabase.from('products').select('*');
    setProducts(data || []);
  };

  const applyFilter = async () => {
    const filtered = await filterProducts(products);
    setFilteredProducts(filtered);
  };

  return (
    <div className="grid grid-cols-4 gap-4">
      {filteredProducts.map((product) => (
        <div key={product.id} className="product-card">
          <img src={product.image} alt={product.name} />
          <h3>{product.name}</h3>
          <p>{product.price}</p>

          {/* Ø¹Ø±Ø¶ Ø²Ø± Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø£Ùˆ Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„ØªØµÙˆÙŠØª */}
          {product.is_available ? (
            <button>Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©</button>
          ) : displaySettings.display_mode === 'show_with_stock_and_vote' ? (
            <ProductVoteCard
              productId={product.id}
              productName={product.name}
            />
          ) : null}
        </div>
      ))}
    </div>
  );
}
```

### Ù…Ø«Ø§Ù„ 2: ÙØ­Øµ Ù…Ù†ØªØ¬ ÙˆØ§Ø­Ø¯
```typescript
const { shouldDisplayProduct, displaySettings } = useProductFilter();

const checkProduct = async (product) => {
  const { display, isAvailable, inventory } = await shouldDisplayProduct(product);

  if (!display) {
    return null; // Ù„Ø§ ØªØ¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬
  }

  if (!isAvailable && displaySettings.display_mode === 'show_with_stock_and_vote') {
    return <ProductVoteCard productId={product.id} productName={product.name} />;
  }

  return <ProductNormalCard product={product} />;
};
```

## Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ©

### Ù…Ø³Ø§Ø± ØµÙØ­Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
`http://localhost:3000/settings`

Ø§Ù†ØªÙ‚Ù„ Ø¥Ù„Ù‰ Ù‚Ø³Ù… **"Ø§Ù„Ù…Ø¸Ù‡Ø±"** â† **"Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¸Ù‡ÙˆØ± Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Ø§Ù„Ù…ØªØ¬Ø±"**

### Ø§Ù„Ø®Ø·ÙˆØ§Øª:
1. Ø§Ø®ØªØ± ÙˆØ¶Ø¹ Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ (Ø¸Ù‡ÙˆØ± ÙƒÙ„ÙŠ / Ø¨Ø§Ù„Ù…Ø®Ø²ÙˆÙ† / Ø¨Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ù…Ø¹ Ø§Ù„ØªØµÙˆÙŠØª)
2. Ø¥Ø°Ø§ Ø§Ø®ØªØ±Øª "Ø¨Ø§Ù„Ù…Ø®Ø²ÙˆÙ†" Ø£Ùˆ "Ø¨Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ù…Ø¹ Ø§Ù„ØªØµÙˆÙŠØª":
   - Ø­Ø¯Ø¯ Ø§Ù„Ù…Ø®Ø§Ø²Ù† ÙˆØ§Ù„ÙØ±ÙˆØ¹ Ø§Ù„ØªÙŠ ØªØ±ÙŠØ¯ Ø§Ø­ØªØ³Ø§Ø¨ Ù…Ø®Ø²ÙˆÙ†Ù‡Ø§
   - Ø§Ø³ØªØ®Ø¯Ù… "ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙƒÙ„" Ù„ØªØ­Ø¯ÙŠØ¯ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹
   - Ø£Ùˆ Ø­Ø¯Ø¯ Ù…ÙˆØ§Ù‚Ø¹ Ù…Ø¹ÙŠÙ†Ø© ÙÙ‚Ø·
3. Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª ØªÙØ­ÙØ¸ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹

## Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…

### 1. Ù…ØªØ¬Ø± Ø¨ÙØ±Ø¹ ÙˆØ§Ø­Ø¯
- Ø§Ø®ØªØ± "Ø¸Ù‡ÙˆØ± Ø¨Ø§Ù„Ù…Ø®Ø²ÙˆÙ†"
- Ù„Ù† ØªØ¸Ù‡Ø± Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù†Ø§ÙØ°Ø©

### 2. Ù…ØªØ¬Ø± Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„ÙØ±ÙˆØ¹
- Ø§Ø®ØªØ± "Ø¸Ù‡ÙˆØ± Ø¨Ø§Ù„Ù…Ø®Ø²ÙˆÙ†"
- Ø­Ø¯Ø¯ Ø§Ù„ÙØ±ÙˆØ¹ Ø§Ù„ØªÙŠ ØªØ±ÙŠØ¯ Ø§Ø­ØªØ³Ø§Ø¨ Ù…Ø®Ø²ÙˆÙ†Ù‡Ø§
- Ù…Ø«Ù„Ø§Ù‹: Ø­Ø¯Ø¯ ÙØ±ÙˆØ¹ Ø§Ù„Ù‚Ø§Ù‡Ø±Ø© ÙÙ‚Ø·ØŒ ÙˆØ§Ø³ØªØ¨Ø¹Ø¯ ÙØ±ÙˆØ¹ Ø§Ù„Ø¥Ø³ÙƒÙ†Ø¯Ø±ÙŠØ©

### 3. Ø¬Ù…Ø¹ Ø¢Ø±Ø§Ø¡ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
- Ø§Ø®ØªØ± "Ø¸Ù‡ÙˆØ± Ø¨Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ù…Ø¹ Ø§Ù„ØªØµÙˆÙŠØª"
- Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù†Ø§ÙØ°Ø© Ø³ØªØ¸Ù‡Ø± Ù…Ø¹ Ø®ÙŠØ§Ø± Ø§Ù„ØªØµÙˆÙŠØª
- ÙŠÙ…ÙƒÙ†Ùƒ ØªØ­Ù„ÙŠÙ„ Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªØµÙˆÙŠØª Ù„Ø§Ø­Ù‚Ø§Ù‹

### 4. Ù…ÙˆÙ‚Ø¹ Ø¯Ø§Ø¦Ù… (24/7)
- Ø§Ø®ØªØ± "Ø¸Ù‡ÙˆØ± ÙƒÙ„ÙŠ"
- Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ØªØ¸Ù‡Ø± Ø¨ØºØ¶ Ø§Ù„Ù†Ø¸Ø± Ø¹Ù† Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
- ÙŠÙ…ÙƒÙ† Ù„Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ø·Ù„Ø¨ ÙˆØ§Ù„Ø­Ø¬Ø² Ø§Ù„Ù…Ø³Ø¨Ù‚

## Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Ù…ÙÙŠØ¯Ø©

### Ø¹Ø±Ø¶ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ØªØµÙˆÙŠØª Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
```sql
SELECT
  p.name,
  p.name_en,
  stats.*
FROM products p
CROSS JOIN LATERAL get_product_vote_stats(p.id) stats
WHERE stats.total_votes > 0
ORDER BY stats.yes_percentage DESC;
```

### Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø£ÙƒØ«Ø± Ø·Ù„Ø¨Ø§Ù‹ (Ø£Ø¹Ù„Ù‰ ØªØµÙˆÙŠØª Ø¨Ù€ "Ù†Ø¹Ù…")
```sql
SELECT
  p.name,
  stats.yes_votes,
  stats.yes_percentage
FROM products p
CROSS JOIN LATERAL get_product_vote_stats(p.id) stats
WHERE stats.total_votes >= 10  -- Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ 10 Ø£ØµÙˆØ§Øª
ORDER BY stats.yes_percentage DESC
LIMIT 20;
```

### Ø­Ø°Ù Ø§Ù„Ø£ØµÙˆØ§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© (Ø£ÙƒØ«Ø± Ù…Ù† 30 ÙŠÙˆÙ…)
```sql
DELETE FROM product_votes
WHERE created_at < NOW() - INTERVAL '30 days';
```

## Ø§Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„Ø®ØµÙˆØµÙŠØ©

### Row Level Security (RLS)
- Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ù…Ø­Ù…ÙŠØ© Ø¨Ù€ RLS
- Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ù…ØªØ§Ø­Ø© Ù„Ù„Ø¬Ù…ÙŠØ¹ (Public)
- Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙŠØªØ·Ù„Ø¨ Ù…ØµØ§Ø¯Ù‚Ø©
- Ø¥Ø¯Ø±Ø§Ø¬ Ø§Ù„ØªØµÙˆÙŠØªØ§Øª Ù…ØªØ§Ø­ Ù„Ù„Ø¬Ù…ÙŠØ¹ (Ù„Ø¯Ø¹Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ø¶ÙŠÙˆÙ)

### Ù…Ø¹Ø±Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
- ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¹Ø±Ù ÙØ±ÙŠØ¯ Ù„ÙƒÙ„ Ø¬Ù„Ø³Ø©
- ÙŠÙØ®Ø²Ù† ÙÙŠ localStorage
- Ù„Ø§ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø´Ø®ØµÙŠØ©
- ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ¨Ø¯Ø§Ù„Ù‡ Ø¨Ù…Ø¹Ø±Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ø³Ø¬Ù„ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ØªØ§Ø­Ø§Ù‹

## Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª ÙˆØ§Ù„ØªØ­Ø°ÙŠØ±Ø§Øª

âš ï¸ **Ù…Ù‡Ù…:**
1. Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§ØªØŒ Ù‚Ø¯ ÙŠØ­ØªØ§Ø¬ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ† Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙØ­Ø© Ù„Ø±Ø¤ÙŠØ© Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª
2. Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ø¨Ø·ÙŠØ¦Ø§Ù‹ Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„ÙƒØ«ÙŠØ±Ø© - ÙŠÙÙ†ØµØ­ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Caching
3. Ø§Ù„ØªØµÙˆÙŠØªØ§Øª Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØ¹Ø¯ÙŠÙ„Ù‡Ø§ Ø£Ùˆ Ø­Ø°ÙÙ‡Ø§ Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† (Ù„Ù…Ù†Ø¹ Ø§Ù„ØªÙ„Ø§Ø¹Ø¨)
4. ÙÙŠ Ø­Ø§Ù„Ø© Ø¹Ø¯Ù… ØªØ­Ø¯ÙŠØ¯ Ø£ÙŠ Ù…Ø®Ø§Ø²Ù† Ø£Ùˆ ÙØ±ÙˆØ¹ØŒ Ø³ÙŠØªÙ… Ø§Ø­ØªØ³Ø§Ø¨ Ø§Ù„ÙƒÙ„

ğŸ’¡ **Ù†ØµØ§Ø¦Ø­:**
1. Ø§Ø³ØªØ®Ø¯Ù… "Ø¸Ù‡ÙˆØ± Ø¨Ø§Ù„Ù…Ø®Ø²ÙˆÙ†" Ù„Ù„ØªØ¬Ø§Ø±Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ© Ø§Ù„ØªÙ‚Ù„ÙŠØ¯ÙŠØ©
2. Ø§Ø³ØªØ®Ø¯Ù… "Ø¸Ù‡ÙˆØ± Ø¨Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ù…Ø¹ Ø§Ù„ØªØµÙˆÙŠØª" Ù„Ø¬Ù…Ø¹ Insights Ø¹Ù† Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
3. Ø§Ø³ØªØ®Ø¯Ù… "Ø¸Ù‡ÙˆØ± ÙƒÙ„ÙŠ" Ù„Ù„Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„ØªÙŠ ØªØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ù…Ø³Ø¨Ù‚
4. Ø±Ø§Ø¬Ø¹ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ØªØµÙˆÙŠØª Ø¯ÙˆØ±ÙŠØ§Ù‹ Ù„Ø§ØªØ®Ø§Ø° Ù‚Ø±Ø§Ø±Ø§Øª Ø´Ø±Ø§Ø¡ Ø°ÙƒÙŠØ©

## Ø§Ù„Ø¯Ø¹Ù… ÙˆØ§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©

Ø¥Ø°Ø§ ÙˆØ§Ø¬Ù‡Øª Ø£ÙŠ Ù…Ø´Ø§ÙƒÙ„ Ø£Ùˆ ÙƒØ§Ù†Øª Ù„Ø¯ÙŠÙƒ Ø£Ø³Ø¦Ù„Ø©:
1. ØªØ­Ù‚Ù‚ Ù…Ù† console.log ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­ Ù„Ù„Ø£Ø®Ø·Ø§Ø¡
2. ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
3. ØªØ£ÙƒØ¯ Ù…Ù† ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù€ migration Ø¨Ù†Ø¬Ø§Ø­
4. Ø±Ø§Ø¬Ø¹ Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚ Ø£Ø¹Ù„Ø§Ù‡

---

âœ… **ØªÙ… Ø§Ù„ØªÙ†ÙÙŠØ° Ø¨Ù†Ø¬Ø§Ø­!**
Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© ØªÙ… ØªØ·Ø¨ÙŠÙ‚Ù‡Ø§ ÙˆØªØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ÙƒØ§Ù…Ù„.
